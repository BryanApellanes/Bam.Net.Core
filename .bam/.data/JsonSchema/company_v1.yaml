"$schema": http://json-schema.org/draft-04/schema#
id: company_v1.yaml

title: Company
javaType: "com.vimly.entitystore.schema.CompanyEntity"
type: object
"@type": "Company"
extends: 
  "$ref": "entity_v1.yaml"

properties:
  businessName: 
    "$ref": "common_v1.yaml#/definitions/BusinessName"
  externalIds: 
    type: object
    "existingJavaType": "java.util.Map<String, String>"
  taxIds: 
    "$ref": "common_v1.yaml#/definitions/TaxIds"
  industryCodes: 
    "$ref": "common_v1.yaml#/definitions/IndustryCodes"
  ownership: 
    type: string
    enum: ["PARTNERSHIP", "SOLE_PROPRIETORSHIP", "CORPORATION", "OTHER"]
  ownershipCorpState:
      type: string
      faker: address.state
  ownershipDetail: 
    type: string
    example: CEO
    description: "Ownership Detail (Applicable for Ownership Type of OTHER or CORPORATION)"
  ownershipPartnerOwnerNames:
      type: array
      minOccurs: 0
      maxOccurs: 10
      items:
          "$ref": "contact_v1.yaml"
  websiteUrl: 
    type: string
    example: "www.example.com"
    description: "Website URL"
  establishedDate: 
    existingJavaType: "java.time.LocalDate"
    type: string
    format: date
    pattern: "^[0-9]{4}-[0-9]{2}-[0-9]{2}$"
    example: "2018-05-14"
    description: "Approximate date the business was established"
  addresses: 
    type: array
    items: 
      "$ref": "address_v1.yaml"
  contacts: 
    type: array
    items: 
      "$ref": "contact_v1.yaml"
  employeeCount:
    type: integer
  dependentCount:
    type: integer
required:
    - legalName
    - addresses
